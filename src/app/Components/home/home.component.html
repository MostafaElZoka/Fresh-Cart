<section class="mt-3">
    <div class="container-fluid">
        <div class="row g-0">
            <div class="col-md-10">
                <div class="">
                    <owl-carousel-o [options]="customOptions2">
                        <ng-template carouselSlide>
                            <img src="images/img1.avif" alt="" class="w-100" height="300px">
                        </ng-template>  
                        <ng-template carouselSlide>
                            <img src="images/img2.avif" alt="" class="w-100" height="300px">
                        </ng-template>  
                        <ng-template carouselSlide>
                            <img src="images/img3.avif" alt="" class="w-100" height="300px">
                        </ng-template>  
                        <ng-template carouselSlide>
                            <img src="images/img4.avif" alt="" class="w-100" height="300px">
                        </ng-template>  
                        <ng-template carouselSlide>
                            <img src="images/img5.avif" alt="" class="w-100" height="300px">
                        </ng-template>  
                        <ng-template carouselSlide>
                            <img src="images/img6.avif" alt="" class="w-100" height="300px">
                        </ng-template>  
                    </owl-carousel-o>
                </div>
            </div>
            <div class="col-md-2">
                <div>
                <img src="images/grocery-banner.png" alt="" height="150px" class="w-100">
                <img src="images/grocery-banner-2.jpeg" alt="" height="150px" class="w-100">
                </div>
            </div>
        </div>
    </div>
</section>
<!-- categories carousel -->
<section class="my-5">
    <h2 class="text-center mb-5">Categories</h2>
      <owl-carousel-o [options]="customOptions">
        @for (category of categoriesList; track category._id) 
        {
            <ng-template carouselSlide [id]="category._id">
                <div class="d-flex flex-column align-items-center">
            <img [src]="category.image" [alt]="category.name" [title]="category.slug" class="img-fluid rounded-circle" style="width:150px; height:150px; object-fit:cover; cursor: pointer;">
            <h3 class="h6 text-center text-main me-2 mt-2" style="cursor: pointer;">{{category.name}}</h3>
                </div>

            </ng-template>
        }
  </owl-carousel-o>
</section>
<!-- products -->
<section>
    <h2 class="text-center mb-3">Popular Products</h2>
    <input type="search" class="form-control w-50 mx-auto my-4" [(ngModel)]="searchText" placeholder="Search Products..." />
    <div class="container-fluid">
        <div class="row">
                @for (product of (productsList.slice(0,12) | search: searchText); track product._id) 
                {
                <div class="col-md-2 mb-3">
                <div class="border p-2 product">
                    <div [routerLink]="['/details', product._id]" style="cursor: pointer;">
                            <img [src]="product.imageCover" class="img-fluid" alt="Product Image">
                            <h3 class="small text-main">{{product.category.name}}</h3>
                            <h4 class="h6">{{product.title.split(" ",3).join(" ")}}</h4>
                            <div class="d-flex justify-content-between align-items-center">
                                <span>{{product.price}} EGP</span>

                                <div>
                                    @for (start of [1,2,3,4,5].slice(0,product.ratingsAverage); track $index)
                                    {
                                        <span> <i class="fas fa-star rating-color"></i></span>
                                    }
                                    @if (product.ratingsAverage % 1 !== 0) 
                                    {
                                        <span> <i class="fas fa-star-half-alt rating-color"></i></span>
                                    }
                                    <!-- <span> <i class="fas fa-star rating-color"></i></span> -->
                                    <span class="text-muted">({{product.ratingsAverage}})</span>
                                </div>
                            </div>
                    </div>
      
                    <button class="btn-main w-100">Add To Cart</button>
                </div>

                </div>

                }

        </div>
    </div>
</section>